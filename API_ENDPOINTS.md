# API ENDPOINTs

## Table Of Content

-   [Action Types](#action-types)
    -   [Fetch Action Types](#fetch-action-types)
-   [Event Types](#event-types)
    -   [Fetch Event Types](#fetch-event-types)
-   [Clients](#clients)
    -   [Fetch Clients](#fetch-clients)
    -   [Fetch Single Client](#fetch-single-client)
-   [Shows](#shows)
    -   [Fetch Shows](#fetch-shows)
    -   [Fetch Single Show](#fetch-single-show)
-   [Client Shows](#client-shows)
    -   [Fetch Client Shows](#fetch-client-shows)
    -   [Create Client Show](#create-client-show)
-   [Apps](#apps)
    -   [Fetch Apps](#fetch-apps)
    -   [Fetch Single App](#fetch-single-app)
-   [Show Apps](#show-apps)
    -   [Fetch Show Apps](#fetch-show-apps)
    -   [Create Show App](#create-show-app)
-   [Attendees](#attendees)
    -   [Fetch Single Attendee](#fetch-single-attendee)
    -   [Create Attendee](#create-attendee)
-   [Events](#events)
    -   [Create Event](#create-event)
-   [Notes](#notes)

# Action Types

### Fetch Action Types

-- **Endpoint:** `[GET] api/action-types`

-- **Description:** Fetch a list of all action types

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "ActionType",
            "name": "viewed",
            "code": 0,
            "description": "If a page, popup, video, pdf was \"viewed\" they will have an action index of 0"
        },
        {},
        {}
    ]
}
```

# Event Types

### Fetch Event Types

-- **Endpoint:** `[GET] api/event-types`

-- **Description:** Fetch a list of all event types

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "EventType",
            "name": "Scan",
            "code": 3,
            "description": "Will either be a Badge ID OR a Temporary Local AttendeeID generated by the system and passed along to the Brandgage API to track this unknown attendee."
        },
        {},
        {}
    ]
}
```

# Clients

### Fetch Clients

-- **Endpoint:** `[GET] api/clients`

-- **Description:** Fetch a paginated list of clients

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "Client",
            "id": 1,
            "name": "John Doe"
        },
        {},
        {}
    ],
    "links": {},
    "meta": {}
}
```

### Fetch Single Client

-- **Endpoint:** `[GET] api/clients/{client}`

-- **Description:** Fetch a single client

-- **Response:**

```json
{
    "data": {
        "object_type": "Client",
        "id": 1,
        "name": "John Doe"
    }
}
```

# Shows

### Fetch Shows

-- **Endpoint:** `[GET] api/shows`

-- **Description:** Fetch a paginated list of shows

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "Show",
            "id": 1,
            "name": "Architecto sed qui et quae.",
            "organizer": "Powlowski-Bahringer",
            "start_date": "2022-08-24",
            "end_date": "2022-09-08",
            "client_id": 1
        },
        {},
        {}
    ],
    "links": {},
    "meta": {}
}
```

### Fetch Single Show

-- **Endpoint:** `[GET] api/shows/{show}`

-- **Description:** Fetch a single show

-- **Response:**

```json
{
    "data": {
        "object_type": "Show",
        "id": 1,
        "name": "Architecto sed qui et quae.",
        "organizer": "Powlowski-Bahringer",
        "start_date": "2022-08-24",
        "end_date": "2022-09-08",
        "client_id": 1
    }
}
```

# Client Shows

### Fetch Client Shows

-- **Endpoint:** `[GET] api/clients/{client}/shows`

-- **Description:** Fetch a paginated list of client shows

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "Show",
            "id": 1,
            "name": "Architecto sed qui et quae.",
            "organizer": "Powlowski-Bahringer",
            "start_date": "2022-08-24",
            "end_date": "2022-09-08",
            "client_id": 1
        },
        {},
        {}
    ],
    "links": {},
    "meta": {}
}
```

### Create Client Show

-- **Endpoint:** `[POST] api/clients/{client}/shows`

-- **Description:** Create a new show for a specific client

-- **Input:**

```json
{
    "name": ["string", "required"],
    "organizer": ["string", "required"],
    "start_date": ["date", "required"],
    "end_date": ["date", "required"]
}
```

-- **Response:**

```json
{
    "data": {
        "object_type": "Show",
        "id": 1,
        "name": "Architecto sed qui et quae.",
        "organizer": "Powlowski-Bahringer",
        "start_date": "2022-08-24",
        "end_date": "2022-09-08",
        "client_id": 1
    }
}
```

# Apps

### Fetch Apps

-- **Endpoint:** `[GET] api/apps`

-- **Description:** Fetch a paginated list of apps

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "App",
            "id": 1,
            "name": "sint",
            "client_id": 1,
            "show_id": 1,
            "kiosk_id": "quasi alias",
            "machine_id": "e6317b10-1228-3ea5-b5eb-27b205b608af"
        },
        {},
        {}
    ],
    "links": {},
    "meta": {}
}
```

### Fetch Single App

-- **Endpoint:** `[GET] api/apps/{app}`

-- **Description:** Fetch a single app

-- **Response:**

```json
{
    "data": {
        "object_type": "App",
        "id": 1,
        "name": "sint",
        "client_id": 1,
        "show_id": 1,
        "kiosk_id": "quasi alias",
        "machine_id": "e6317b10-1228-3ea5-b5eb-27b205b608af"
    }
}
```

# Show Apps

### Fetch Show Apps

-- **Endpoint:** `[GET] api/shows/{show}/apps`

-- **Description:** Fetch a paginated list of show's apps

-- **Response:**

```json
{
    "data": [
        {
            "object_type": "App",
            "id": 1,
            "name": "sint",
            "client_id": 1,
            "show_id": 1,
            "kiosk_id": "quasi alias",
            "machine_id": "e6317b10-1228-3ea5-b5eb-27b205b608af"
        },
        {},
        {}
    ],
    "links": {},
    "meta": {}
}
```

### Create Show App

-- **Endpoint:** `[POST] api/shows/{show}/apps`

-- **Description:** Create a new app for a specific show

-- **Input:**

```json
{
    "name": ["string", "required"],
    "kiosk_id": ["string", "required"],
    "machine_id": ["string", "required"]
}
```

-- **Response:**

```json
{
    "data": {
        "object_type": "App",
        "id": 1,
        "name": "sint",
        "client_id": 1,
        "show_id": 1,
        "kiosk_id": "quasi alias",
        "machine_id": "e6317b10-1228-3ea5-b5eb-27b205b608af"
    }
}
```

# Attendees

### Fetch Single Attendee

-- **Endpoint:** `[GET] api/attendees/{attendee}`

-- **Description:** Fetch a single attendee

-- **Response:**

```json
{
    "data": {
        "object_type": "Attendee",
        "id": 1,
        "badge_id": "11f7ab11-3fd0-3cf0-a320-bcd8d5ace9b3",
        "first_name": "Khalil",
        "last_name": "Schroeder",
        "email": "marina03@gmail.com",
        "job_title": "Recreation and Fitness Studies Teacher",
        "company": "LG",
        "profession": "Teacher",
        "phone": "+1-747-774-4978",
        "address_line_1": "74137 Hettinger Burgs",
        "address_line_2": "6257 Vida Expressway Apt. 447",
        "city": "South Budton",
        "state": "ID",
        "country": "Turkey",
        "postal_code": "38292",
        "meta": [],
        "notes": "Voluptatem qui culpa illo. Tenetur nostrum adipisci et vel illum. Sunt reiciendis reprehenderit ea iste aliquid sed.",
        "show_id": 1,
        "client_id": 1
    }
}
```

### Create Attendee

-- **Endpoint:** `[POST] api/attendees`

-- **Description:** Create a new attendee

-- **Input:**

```json
{
    "badge_id": ["string", "required"],
    "first_name": ["string", "required"],
    "last_name": ["string", "required"],
    "email": ["string", "required"],
    "show_id": ["required", "exists:shows,id"],
    "job_title": ["string", "nullable"],
    "company": ["string", "nullable"],
    "profession": ["string", "nullable"],
    "phone": ["string", "nullable"],
    "address_line_1": ["string", "nullable"],
    "address_line_2": ["string", "nullable"],
    "city": ["string", "nullable"],
    "state": ["string", "nullable"],
    "country": ["string", "nullable"],
    "postal_code": ["string", "nullable"],
    "meta": ["object", "nullable"],
    "notes": ["string", "nullable"]
}
```

-- **Response:**

```json
{
    "data": {
        "object_type": "Attendee",
        "id": 1,
        "badge_id": "11f7ab11-3fd0-3cf0-a320-bcd8d5ace9b3",
        "first_name": "Khalil",
        "last_name": "Schroeder",
        "email": "marina03@gmail.com",
        "job_title": "Recreation and Fitness Studies Teacher",
        "company": "LG",
        "profession": "Teacher",
        "phone": "+1-747-774-4978",
        "address_line_1": "74137 Hettinger Burgs",
        "address_line_2": "6257 Vida Expressway Apt. 447",
        "city": "South Budton",
        "state": "ID",
        "country": "Turkey",
        "postal_code": "38292",
        "meta": [],
        "notes": "Voluptatem qui culpa illo. Tenetur nostrum adipisci et vel illum. Sunt reiciendis reprehenderit ea iste aliquid sed.",
        "show_id": 1,
        "client_id": 1
    }
}
```

# Events

### Create Event

-- **Endpoint:** `[POST] api/events`

-- **Description:** Create a new event / interaction

-- **Input:**

```json
{
    "app_id": ["required", "exists:apps,id"],
    "show_id": ["required", "exists:shows,id"],
    "client_id": ["required", "exists:clients,id"],
    "action_code": ["required", "exists:action_types,code"],
    "event_code": ["required", "exists:event_types,code"],
    "timestamp": ["required", "date"],
    "attendee_id": ["nullable", "exists:attendees,id"],
    "meta": ["nullable", "object"]
}
```

-- **Response:**

```json
{
    "data": {
        "object_type": "Event",
        "id": 7208,
        "action_code": 1,
        "event_code": 2,
        "timestamp": "2022-06-11 17:06:41",
        "app_id": 1,
        "show_id": 1,
        "attendee_id": null,
        "meta": null
    }
}
```

# Notes

## Meta And Links Objects

-   **Typically the links object looks like**

```json
{
    "first": "http://127.0.0.1:8000/api/shows?page=1",
    "last": "http://127.0.0.1:8000/api/shows?page=9",
    "prev": null,
    "next": "http://127.0.0.1:8000/api/shows?page=2"
}
```

-   **And the meta object looks like**

```json
{
    "current_page": 1,
    "from": 1,
    "last_page": 3,
    "links": [
        {
            "url": null,
            "label": "&laquo; Previous",
            "active": false
        },
        {
            "url": "http://127.0.0.1:8000/api/shows?page=1",
            "label": "1",
            "active": true
        },
        {
            "url": "http://127.0.0.1:8000/api/shows?page=2",
            "label": "2",
            "active": false
        },
        {
            "url": "http://127.0.0.1:8000/api/shows?page=3",
            "label": "3",
            "active": false
        },
        {
            "url": "http://127.0.0.1:8000/api/shows?page=2",
            "label": "Next &raquo;",
            "active": false
        }
    ],
    "path": "http://127.0.0.1:8000/api/shows",
    "per_page": 15,
    "to": 15,
    "total": 44
}
```
